# FI FLAT

~~Много~~Функциональный, интерпретируемый язык программирования написанный на языке F#.

```
let program {
    print "Hello, world!";
}
```

Разработчики: [Тимофей Голубев](https://github.com/cat-mood), [Бонокин Данил](https://github.com/Bonik0), [Филиппов Владимир](https://github.com/zloyaloha)

Репозиторий с исходниками [**туть**](https://github.com/MAILabs-Edu-2024/fp-compiler-lab-hockey-s-head)

## Оглавление

## Введение

Однажды в Московском Авиационном Институте учились три студента. И вот на втором курсе у них появился предмет **функциональное программирование**, на котором они столкнулись с необычайно интересным и захватывающим языком **F#**. Жили они, не тужили, пока в один момент преподаватель не сказал им: "Мало вам просто язык изучить. Попробуйте-ка вы свой написать!". Почесали они свою репу, поразмыслили, да начали делать, а кабы не делали, то лишились бы ~~жизни~~ стипендии. Вот как-то так и появился проект, который вы изучаете.

## Решение

Для начала мы разбили нашу задачу на несколько этапов. 

+ Изучение существующих функциональных языков программирования
+ Разработка синтаксиса собственного языка
+ Создание лексера и парсера
+ Написание интерпретатора
+ Создание примеров программ и документации

Расскажем про всё по порядку

### Существующие языки
### Lisp
Сначала нам на глаза попался язык программирования **LISP**. Это очень красивый и элегантный язык программирования.

Автором Лиспа является Джон Маккарти, на период создания языка работавший в Массачусетском технологическом институте (MIT) в должности профессора по связи. Исторически первой реализацией Лиспа, включающей все современные базовые элементы языка, был интерпретатор, работавший на IBM 704, появившийся в октябре 1958 года.

Базовыми элементами языка являются символы, атомы и построенные из них динамические списочные структуры — S-выражения. Любая программа на языке Лисп состоит из последовательности выражений (форм). Результат работы программы состоит в вычислении этих выражений. Все выражения записываются в виде списков — одной из основных структур Лиспа, поэтому они могут легко быть созданы посредством самого языка. Это позволяет создавать программы, изменяющие другие программы или макросы, позволяющие существенно расширить возможности языка.

Вот так на LISP выглядит операция **взятия головы** списка

```lisp
(CAR '(A B C D)) ; -> A
```

**Суммирование чисел** от 1 до 5

```lisp
(+ 1 2 3 4 5) ; -> 15
```

**Определение функции**  вычисление квадрата суммы двух чисел

```lisp
(DEFUN SUMKVAD (X Y)
 (+ (* X X) (* Y Y))
)
```

В общем язык красивый и прикольный, но хотелось чего-то более знакомого...
### F#

F# впервые увидел свет в 2005 году в Microsoft Research. Это мультипарадигмальный язык для платформы Microsoft .NET, нацеленный преимущественно на функциональное программирование.

Как и другие функциональные языки, F# нацелен на упрощение работы с Big Data и многопоточностью, то есть востребован в науке, в создании искусственного интеллекта, там, где используются динамические базы данных, а также для улучшенного использования ресурсов многоядерных процессоров. Иначе говоря, F# можно использовать практически везде, будь на то ваша воля.

Определение функции **сложения двух чисел**

```fsharp
let sum a b = a + b
let result = sum 5 3
```

Рекурсивная функция нахождения **факториала** числа
```fsharp
let rec fac n =
   if n < 2 then 1
   else n * fac(n - 1)
```

## Синтаксис
Сначала мы, как я уже упомянул, хотели взять синтаксис LISP'а, но по итогу передумали Мы взяли синтаксис F# и доработали его под наши нужды. Получился некий сплав C++ и F#.

***Ниже вы можете увидеть примеры базовых конструкций языка.***

Функции
```
let func_name param1 param2 {
    func1 param1;
    func2 param1 param2;
}
```
Именнованные переменные
```
let var_name {val}
```
Лямбда-выражения
```
let lambda_example num {lambda a : a + 1}
```

## Парсер и лексер
По сути, парсер и лексер в нашей реализации совмещены в единое целое. Сделаны они при помощи библиотеки fparsec. С ее помощью довольно удобно парсить как простые выражения, так и рекурсивные. 

**Парсер имен переменных**
```fsharp
let val_name_parser = 
    spaces >>. many1Chars (letter <|> digit <|> pchar '_') .>> spaces
```

Дальше нужен, наверное какой-то текст + примеры.

Посмотреть реализацию можно [здесь](https://github.com/MAILabs-Edu-2024/fp-compiler-lab-hockey-s-head/blob/main/Program.fs)

## Интерпретатор
Тут надо попросить тимоху рассказать
##
